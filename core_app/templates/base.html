{% load static %}
<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>
        {% block title %}
            
        {% endblock title %}
        </title>
        <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">
        <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    </head>

    <body data-bs-spy="scroll" data-bs-target="#navbarExample">
       <!-- Preloader -->
<div id="preloader" class="position-fixed top-0 start-0 w-100 h-100 bg-white d-flex justify-content-center align-items-center" style="z-index: 1050;">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>
      
        
        <nav class="navbar navbar-expand-lg bg-primary fixed-top" data-bs-theme="dark">
  <div class="container-fluid m-3">
    <a class="navbar-brand me-5" href="#"><span class="text-secondary">S.</span>Confirm TWC</a>
    {% if request.user.role == 'customer' %}
      <div class="dropdown ms-auto">
      <a class="nav-link dropdown-toggle text-white" href="#" role="button" data-bs-toggle="dropdown">
        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
  <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
  <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"/>
</svg>
      </a>
      <ul class="dropdown-menu dropdown-menu-end bg-dark">
        <li><a class="dropdown-item text-white" href="{% url 'account' %}">Profile</a></li>
        <li><a class="dropdown-item text-white position-relative" href="{% url 'notifications:list' %}">Notifications<span class="position-absolute top-50 start-100 translate-middle badge rounded-pill bg-danger">
    {{ notification_count }}
    <span class="visually-hidden">unread messages</span></a></li>
        <div class="dropdown-divider"></div>
        <li><a class="dropdown-item text-white" href="{% url 'logout' %}">Logout</a></li>
      </ul>
    </div>
    {% elif request.user.role == 'staff'%}
    <br><br>
    <div class="dropdown ms-auto">
      <a class="nav-link dropdown-toggle text-white" href="#" role="button" data-bs-toggle="dropdown">
        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
  <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
  <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"/>
</svg>
      </a>
      <ul class="dropdown-menu dropdown-menu-end bg-dark">
        <li><a class="dropdown-item text-white" href="{% url 'account' %}">Profile</a></li>
    <li class="dropdown-item text-white"><a href="{% url 'reports:my_reports' %}" class="nav-link">Reports</a></li>
    {% for g in groups %}
    {% if g.name == "A"  %}
      
    
    <li class="dropdown-item text-white"><a href="{% url 'driver_orders' %}" class="nav-link position-relative">Deliveries<span class="position-absolute top-50 start-100 translate-middle badge rounded-pill bg-danger">
      {{ assigned_orders_count }}
      <span class="visually-hidden">unread messages</span></a></li>
      {% else %}
      <li class="dropdown-item text-white"><a href="#" class="nav-link position-relative">Tasks<span class="position-absolute top-50 start-100 translate-middle badge rounded-pill bg-danger">
        0
        <span class="visually-hidden">unread messages</span></a></li>
        {% endif %}
        {% endfor %}
        <li class="dropdown-item text-white"><a href="#" class="nav-link">Settings</a></li>
        <div class="dropdown-divider"></div>
        <li><a class="dropdown-item text-white" href="{% url 'logout' %}">Logout</a></li>
      </ul>
    </div>
      {% else %}
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarColor01">
        <ul class="navbar-nav ms-5 me-auto">
          <li class="nav-item">
            <a class="nav-link active" href="#home">Home
              <span class="visually-hidden">(current)</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#about">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#product">Product</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Order</a>
            <div class="dropdown-menu">
              <a class="dropdown-item position-relative" href="{% url 'cart' %}">Cart<span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
    {{ cart_count }}
    <span class="visually-hidden">unread messages</span>
</a>
              <a class="dropdown-item" href="{% url 'order_list' %}">Order List</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="{% url 'pending_orders' %}">Track Order</a>
          </div>
        </li>
      </ul>
      
      {% endif %}
      
    </div>
  </div>
</nav>

{% block body %}

{% endblock body %}
<div class="b-example-divider mt-5"></div>

<div class="container">
  <footer class="py-3 my-4">
    <ul class="nav justify-content-center border-bottom pb-3 mb-3">
      <li class="nav-item"><a href="#" class="nav-link px-2 ">Home</a></li>
      <li class="nav-item"><a href="#" class="nav-link px-2">Features</a></li>
      <li class="nav-item"><a href="#" class="nav-link px-2">Pricing</a></li>
      <li class="nav-item"><a href="#" class="nav-link px-2">FAQs</a></li>
      <li class="nav-item"><a href="#" class="nav-link px-2">About</a></li>
    </ul>
    <p class="text-center">&copy;Table-Water 2025 Company, Inc</p>
  </footer>
</div>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    setTimeout(function () {
      const preloader = document.getElementById("preloader");
      if (preloader) {
        preloader.remove(); // Removes the preloader after 3s
      }
    }, 2000); // 2000 milliseconds = 2 seconds
  });
</script>
    <script src="{% static 'js/bootstrap.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
    </body>
</html>