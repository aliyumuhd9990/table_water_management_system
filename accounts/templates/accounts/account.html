<!DOCTYPE html>
<html lang="en">
  {% load static %}
  <head>
    <meta charset="utf-8" />
    <title>{% block title %}Profile-Page {% endblock title %}</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="Free HTML Templates" name="keywords" />
    <meta content="Free HTML Templates" name="description" />

    <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
  </head>
  <body>
      <!-- Preloader -->
<div id="preloader" class="position-fixed top-0 start-0 w-100 h-100 bg-white d-flex justify-content-center align-items-center" style="z-index: 1050;">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>
    <!-- Navigation-->
    <nav class="bg-primary shadow fixed-top">
      <div class="container p-3">
        <h1 class="text-white"><span class="text-secondary">My</span> Profile</h1>
      </div>
    </nav>
    <br><br><br>
    {% include 'components/message.html' %}
    <div class="row d-lg-flex mx-auto">

      <div class="col-lg-4 mt-5 mx-auto">
        <!-- Author Bio -->
        <div class="d-flex flex-column text-center bg-dark rounded mb-5 py-5 px-4">
                      {% if profile.profile_img %}
                      <img src="{{profile.profile_img.url}}" class="img-fluid rounded-circle mx-auto mb-3" style="width: 100px; height: 90px;">
                      
                      {% else %}
                      <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" fill="white" class="bi bi-person-circle mx-auto" viewBox="0 0 16 16">
  <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
  <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"/>
</svg>
                      {% endif %}
                      <h3 class="text-primary mb-3">{{user.full_name}}</h3>
                    </div>
                  </div>
    
                  <div
      class="container-sm mt-5 p-3 bg-body col-lg-4 px-3 shadow-sm rounded-2"
    >
      <h6 class="text-dark my-3 fw-bolder">Profile Info</h6>
      <ul class="list-group">
        <li class="list-group-item"><b>Name:</b> {{user.full_name}}</li>
        <li class="list-group-item"><b>Email:</b> {{user.email}}</li>
        <li class="list-group-item"><b>Contact:</b> {{profile.contact}}</li>
     
        {% for g in groups %}
        
        <li class="list-group-item"><b>Group:</b>
        {% if g.name == "A" %}
          ðŸšš (Delivery team)
        {% elif g.name == "B" %}
        Loading water
        {% elif g.name == "C" %}
        Machine Assistant
        {% else %}
        Other Staffs
        {% endif %}
          </li>
        
        {% endfor %}

          
        <br>
        <a
        href="{% url 'edit-profile' %}"
        class="btn btn-dark btn-block border-0 py-3"
        >
        Edit Profile
      </a>
    </ul>
    <h6 class="text-dark my-3 fw-bolder">Settings</h6>
    <div class="d-grid gap-2">
      <a href="#" class="btn btn-primary btn-block border-0 py-3 text-start border">
          Privacy 
        </a>
        <a href="#" class="btn btn-primary btn-block border-0 py-3 text-start border">
          Security
        </a>
        <a href="#" class="btn btn-primary btn-block border-0 py-3 text-start border">
          About
        </a>
        
      </div>
      <h6 class="text-dark my-3 fw-bolder">Support</h6>
      <div class="d-grid gap-2">
        <a href="#" class="btn btn-primary btn-block border-0 py-3 text-start border my-custom-btn">
          Ask a Question
        </a>
        <a href="#" class="btn btn-primary btn-block border-0 py-3 text-start border my-custom-btn">
          FAQ
        </a>
        <a href="" class="btn btn-primary btn-block border-0 py-3 text-start border my-custom-btn">
          Privacy Policy
        </a>
        <a
        href="{% url 'logout' %}"
          class="btn btn-dark btn-block border-0 py-3"
        >
          Logout
        </a>
      </div>
    </div>
  </div>

   <!-- JavaScript: force preloader for 3 seconds -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    setTimeout(function () {
      const preloader = document.getElementById("preloader");
      if (preloader) {
        preloader.remove(); // Removes the preloader after 3s
      }
    }, 2000); // 2000 milliseconds = 2 seconds
  });
</script>
     <script src="{% static 'js/bootstrap.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
  </body>
</html>
