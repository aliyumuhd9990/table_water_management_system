
{% load static %}
<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>
        {% block title %}
            checkout_page
        {% endblock title %}
        </title>
        <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">
        <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    </head>

    <body>
          <!-- Preloader -->
<div id="preloader" class="position-fixed top-0 start-0 w-100 h-100 bg-white d-flex justify-content-center align-items-center" style="z-index: 1050;">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>
{% include 'header.html' %}
<div class="container mt-5">
<div class="row g-5">
      <div class="col-md-5 col-lg-4 order-md-last">
        <h4 class="d-flex justify-content-between align-items-center mb-3">
          <span class="text-primary">Your cart</span>
          <span class="badge bg-primary rounded-pill">{{ cart_count }}</span>
        </h4>
        <table class="table table-sm">
    <tr class="table-light">
        <th scope="col">Product</th>
        <th scope="col">Quantity</th>
        <th scope="col">Price</th>
        <th scope="col">Total</th>
    </tr>
    {% for item in cart_items %}
    <tr>
        <td>{{ item.product.pname }}</td>
        <td>({{ item.quantity }})</td>
        <td>&#8358;{{ item.product.price }}</td>
        <td>&#8358;{{ item.sub_total }}</td>
    </tr>
    {% endfor %}
</table>
<div>
<span>Total (NGN):</span>
    <strong>&#8358;{{total}}</strong>
</div>

        
      </div>
      <div class="col-md-7 col-lg-8">
        {% include 'components/message.html' %}
        <h4 class="mb-3">Billing address</h4>
        <form class="needs-validation" novalidate method="POST">
          {% csrf_token %}
          <div class="row g-3">
            <div class="col-sm-12">
              <label for="firstName" class="form-label">Full name</label>
              <input type="text" name="full_name" class="form-control" id="firstName" placeholder="" value="{{user.full_name}}" required>
              <div class="invalid-feedback">
                Valid first name is required.
              </div>
            </div>

            <div class="col-12">
              <label for="email" class="form-label">Email <span class="text-muted">(Optional)</span></label>
              <input type="email" name="email" class="form-control" id="email" value="{{user.email}}">
              <div class="invalid-feedback">
                Please enter a valid email address for shipping updates.
              </div>
            </div>

            <div class="col-sm-12">
              <label for="phone" class="form-label">Phone number</label>
              <input type="tel" name="phone" class="form-control" id="phone" placeholder="" value="{{user.farmer_profile.contact}}" required>
              <div class="invalid-feedback">
                Valid phone number is required.
              </div>
            </div>

            <div class="col-12">
              <label for="address" class="form-label">Address</label>
              <input type="text" name="address" class="form-control" id="address" placeholder="1234 Main St" required>
              <div class="invalid-feedback">
                Please enter your shipping address.
              </div>
            </div>

            <div class="col-12">
              <label for="address2" class="form-label">Address 2 <span class="text-muted">(Optional)</span></label>
              <input type="text" name="address2" class="form-control" id="address2" placeholder="Apartment or suite">
            </div>

            <div class="col-md-5">
              <label for="country" class="form-label">State</label>
              <select class="form-select" id="country" disabled>
                <option>Kano</option>
              </select>
              <div class="invalid-feedback">
                Please select a valid state.
              </div>
            </div>

            <div class="col-md-4">
  <label for="state" class="form-label">Delivery LGA</label>
  <select class="form-select" id="state" name="state" required>
    <option value="">Choose...</option>
    <option value="kumbotso">Kumbotso</option>
    <option value="tudun">Tudun Wada</option>
    <option value="dambatta">Dambatta</option>
    <option value="kiru">Kiru</option>
  </select>
  <div class="invalid-feedback">
    Please select a Local Government Area.
  </div>
</div>

            <div class="col-md-3">
              <label for="zip" class="form-label">Zip</label>
              <input type="text" class="form-control" id="zip" placeholder="000000" disabled>
              <div class="invalid-feedback">
                Zip code required.
              </div>
            </div>
          </div>

          <hr class="my-4">

          <div class="form-check">
            <input type="checkbox" class="form-check-input checked" id="same-address" checked>
            <label class="form-check-label" for="same-address">Shipping address is the same as my billing address</label>
          </div>

          <div class="form-check">
            <input type="checkbox" class="form-check-input" id="save-info">
            <label class="form-check-label" for="save-info">Save this information for next time</label>
          </div>

          <hr class="my-4">
  <button class="w-100 btn btn-dark btn-lg" type="submit">Place Order</button>
  <a href="{% url 'product:product_list' %}" class="text-center mt-3 mx-auto text-primary">Continue Shopping</a>
</form>

</div>
    </div>
</div>

{% include 'footer.html' %}
</div>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    setTimeout(function () {
      const preloader = document.getElementById("preloader");
      if (preloader) {
        preloader.remove(); // Removes the preloader after 3s
      }
    }, 2000); // 2000 milliseconds = 2 seconds
  });
</script>
    <script src="{% static 'js/bootstrap.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    </body>
</html>
   
