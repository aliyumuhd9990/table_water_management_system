{% load static %}
<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>
        {% block title %}
            pending_Order
        {% endblock title %}
        </title>
        <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">
        <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    </head>

    <body>
          <!-- Preloader -->
<div id="preloader" class="position-fixed top-0 start-0 w-100 h-100 bg-white d-flex justify-content-center align-items-center" style="z-index: 1050;">
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>
{% include 'header.html' %}
<div class="container mt-3">
<div class="table-responsive" style="max-height: 500px; overflow-y: auto;">
    <table  class="table table-light table-striped">
        <thead class="table-primary">
            <tr>
                <th>Order ID</th>
                <th>Status</th>
                <th>Date</th>
                <th>Invoice</th>
            </tr>
        </thead>
        <tbody>
            {% for order in orders %}
            <tr>
                <td>#01{{ order.id }}92</td>
                
                    {% if order.status == 'pending' %}
      <td><span class="badge bg-warning">{{ order.status }}</span></td>
      {% elif order.status == 'processing' %}
      <td><span class="badge bg-info">{{ order.status }}</span></td>
      
      {% else %}
      <td><span class="badge bg-danger">{{ order.status }}</span></td>
      {% endif %}
                
                <td>{{ order.created_at }}</td>
      <td>
        {% if order.paid %}
                  <a href="{% url 'invoice' order.id %}" class="btn btn-primary btn-sm">
    Invoice (PDF)
</a>
{% else %}
<a href="{% url 'payment:initialize_payment' order.id %}" class="btn btn-primary btn-sm">Pay Now</a>
{% endif %}
</tr>
{% empty %}
<tr><td colspan="4" class="text-center">No pending orders.</td></tr>
{% endfor %}
</tbody>
</table>
<div class="text-center">

  <a href="{% url 'core_app:index' %}" class="btn btn-primary btn-sm">Back to Dashboard</a>
</div>
</div>
</div>
{% include 'footer.html' %}
</div>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    setTimeout(function () {
      const preloader = document.getElementById("preloader");
      if (preloader) {
        preloader.remove(); // Removes the preloader after 3s
      }
    }, 2000); // 2000 milliseconds = 2 seconds
  });
</script>
    <script src="{% static 'js/bootstrap.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    </body>
</html>